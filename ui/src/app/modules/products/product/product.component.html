<!-- #region -->
<div class="container">
  <div class="row">
    <div
      style="
        display: flex;
        flex-direction: row;
        align-items: center;
        justify-content: space-between;
        gap: 1em;
        margin: 1em 0;
      "
    >
      <h1>{{ product.name }}</h1>
      <div
        class="actions"
        style="display: flex; flex-direction: row; align-items: center; justify-content: space-between; gap: 1em"
      >
        <button mat-flat-button color="primary" (click)="onEdit()">Edit User Details</button>
        <button mat-flat-button color="primary" (click)="onEditAssignment()">Edit Assignment Preferences</button>
        <!-- <button mat-flat-button color="primary" (click)="onDelete()">Edit Preferences</button>
         <button mat-flat-button color="primary" (click)="onDelete()">Previous</button>
        <button mat-flat-button color="primary" (click)="onDelete()">Next</button> 
        <button mat-flat-button color="primary" (click)="onDelete()">Back</button> -->
      </div>
    </div>
    <mat-divider></mat-divider>
    <br />
    <div class="details-grid">
      <span>External Id: </span>
      <span>{{ product.externalId }}</span>
      <span>Account Name: </span>
      <span>{{ product.name }}</span>
      <span>Email: </span>
      <span>{{ product.email }}</span>
      <span>Position: </span>
      <span>{{ product.position }}</span>
      <span>Department</span>
      <span>{{ product.department }}</span>

      <!-- <span>Note: </span>
      <span>{{ product.note }}</span>
      <span>Preference Time: </span>
      <span>{{ product.preferenceTime }}</span>
      <span>Room Distribution: </span>
      <span>{{ product.roomDistribution }}</span>
      <span>Course: </span>
      <span>{{ product.course }}</span>
      <span>Class Assignment: </span>
      <span>{{ product.classAssignment }}</span>
      <span>Exam Assignment: </span>
      <span>{{ product.examAssignment }}</span>
      <span>Ignore Too Far: </span>
      <span>{{ product.ignoreTooFar }}</span>
      <span>Department: </span>
      <span>{{ product.department }}</span> -->
    </div>

    <br />
    <br />
    <br />

    <div class="semester">
      <mat-form-field>
        <mat-label>Semester</mat-label>
        <mat-select placeholder="Semester" (ngModelChange)="onSemesterChange($event)" [(ngModel)]="selected_semester">
          <mat-option *ngFor="let sem of semesters" [value]="sem">
            {{ sem }}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </div>

    <ng-container *ngIf="selected_semester">
      <app-time-preferences [preferences]="(preferences | async) || ''" [disableClick]="true"></app-time-preferences>
    </ng-container>

    <!-- distribution preference -->

    <div class="header-block"></div>
    <h1>Distribution Preferences</h1>
  </div>

  <div>
    <div *ngFor="let distribution of roomDistribution" style="margin-bottom: 1em">
      <mat-form-field appearance="fill" width="100%">
        <mat-label>Room Distribution</mat-label>
        <input matInput readonly="true" width="100%" value="{{ distribution.key }}" placeholder="Room Distribution" />
      </mat-form-field>

      <mat-form-field style="margin-left: 1em">
        <mat-label>Value</mat-label>
        <input matInput readonly="true" value="{{ distribution.value }}" placeholder="Value" />
      </mat-form-field>
    </div>
  </div>

  <h1>Course Preferences</h1>
  <!-- course preference -->
  <div>
    <div *ngFor="let course of coursePref">
      <mat-form-field appearance="fill" width="100%">
        <mat-label>Course Distribution</mat-label>
        <input matInput readonly="true" width="100%" value="{{ course.key }}" placeholder="Room Distribution" />
      </mat-form-field>

      <mat-form-field>
        <mat-label>Value</mat-label>
        <input matInput readonly="true" value="{{ course.value }}" placeholder="Value" />
      </mat-form-field>
    </div>
  </div>
</div>
